■Chapter1 異常検知・変化検知の基本的な考え方
過去はルールを作っていたが、人が把握するデータはとても多く、
ルール化が難しかった。
→統計的手法で解決することができるようになった。

異常検知と変化検知には、おもに4種ある
　外れ値→他の集団と値が明らかに違う
　時系列的外れ値→時系列でシャッフルすると異常が見えなくなる
　変化点→値は変わらないが、周期など変化量が変わる
　変化点または異常部位→変化点と異常値が同時に発生する
　
　ラベル付きデータの場合
　正常値と異常値の確率分布を比較する。
　確率分布の比→尤度比
　尤度比に対して自然対数をとったものと、所定の閾値と比較する方法をネイマン・ピアソン決定則と呼び、
　最善の判定則と証明されている。
　
　ラベルなしデータの場合
　→異常値は圧倒的少数であるという前提
　正常時に出現確率が高い→異常度が低い→情報量が少ない
　正常時に出現確率が低い→異常度が高い→情報量が多い
　　異常度は正常モデルに基づく負の対数尤度と表現される。
　　→情報量とは、確率分布の負の対数として表されている。
　　　→出現確率が高いほど、値は小さくなる
　ラベルなしデータの場合、分布を作ったときにはどれが正常でどれが異常かはわからない。
　そのため、全て正常と仮定した上での密度分布を作る。
　
　検知器の性能評価
　　手法はパターン認識と同じ。
　　ただし、異常検知の場合は正常値の標本数＞＞異常値の標本数がほぼすべての場合成り立つことが重要。
　　→TPとFPの境界設定が重要→ROC曲線
　　一方、正常標本精度と異常標本精度とを比較する方法もある。
　　正常標本精度と異常標本精度とが交わる点を、分岐点精度という。
　　→分岐点精度で異なる評価方法と比較できる。
　　→実際は分岐点精度よりも、F値で比較する。
　　
　　※F値の求め方が通常と異なる？
　　　　実際
　　　　正|負
　予|正 TP|FP
　測|負 FN|TN
　　　通常、正答率 = TP/(TP+FP) → 正解と予想したもののうち、いくつが正解だったか
　　　　　　再現率 = TP/(TP+FN) → 本当に正解だったもののうち、いくつ正解したか
　　　ここでの異常検知では、再現率を TN/(FP+TN) 本当に異常だったもののうち、いくつ正解したかとしている。
　　　
　　　→本で書いてある正常標本精度と異常標本精度は、どちらもrecall(再現率？)対象が正・負違うだけ？
　　　
　　　→ただ、異常の閾値を変化させることでトレードオフになるのは変わらないので、判定としては変わらないはず。
　　　→各識別方法ごとで、F値の計算に利用しているものが食い違っていないことに注意する必要がありそう。
　　　
　　　